<template>
  <div class="screen">
    <!-- èƒŒæ™¯åœ– -->
    <div class="bg-chart" style="background-image: url('KChart.png')" />

    <!-- é ‚ç«¯æŒ‰éˆ• -->
    <header class="topbar">
      <UserProfile />
    </header>

    <!-- ä¸»å…§å®¹ -->
    <section class="main-section">
      <img class="logo-img" src="/logo.png" alt="AI æŠ•è³‡æ™ºèŠ logo" />

      <h1>å€‹è‚¡å…¨é¢å‘å¥æª¢ï¼Œå¿«é€Ÿæœå‡ºå¥½è‚¡ï¼</h1>
      <SearchBar design="home" />

      <!-- åŠŸèƒ½ä»‹ç´¹å€ -->
      <div class="function">
        <div
          v-for="item in functions"
          :key="item.title"
          class="function-item"
        >
          <i :class="item.icon"></i>
          <span>{{ item.title }}</span>
          <div class="tooltip">{{ item.desc }}</div>
        </div>
      </div>

      <chat-bot-btn />
    </section>
  </div>
</template>

<script setup>
import SearchBar from '@/components/Common/SearchBar.vue'
import chatBotBtn from '@/components/Button/ChatBotButton.vue'
import UserProfile from '@/components/Common/UserProfile.vue'

// Tooltip + icon data
const functions = [
  {
    title: 'è‚¡ç¥¨é€Ÿè¦½',
    icon: 'fa-solid fa-chart-column',
    desc: 'æä¾›å³æ™‚è‚¡åƒ¹ã€K ç·šåœ–ã€è‚¡åƒ¹é æ¸¬åŠŸèƒ½ã€‚'
  },
  {
    title: 'åˆ†æå„€è¡¨',
    icon: 'fa-solid fa-gauge',
    desc: 'ä»¥è‚¡å¸‚ 4 é¢å‘å¥æª¢ï¼Œå¿«é€Ÿäº†è§£å€‹è‚¡ç‹€æ³ã€‚'
  },
    {
    title: 'æ–°èè‚¡é›²',
    icon: 'fa-solid fa-link',
    desc: 'æ•´åˆæœ€æ–°è²¡ç¶“æ–°èï¼Œä¸¦ä»¥æ–‡å­—é›²å‘ˆç¾é—œéµè³‡è¨Šã€‚'
  }
]
</script>

<style scoped>
@import '/src/assets/main.css';

/* ğŸ©µ å…¨åŸŸèƒŒæ™¯ */
.screen {
  position: relative;
  text-align: center;
  min-height: 100vh;
}
.bg-chart {
  position: absolute;
  inset: 0;
  background-repeat: no-repeat;
  background-position: center;
  background-size: cover;
  pointer-events: none;
  z-index: 0;
}

/* ğŸ§­ é ‚ç«¯ç™»å…¥è¨»å†Š */
.topbar {
  position: absolute;
  top: 20px;
  right: 20px;
  z-index: 2;
}

/* ğŸ“ˆ ä¸»å…§å®¹ */
.main-section {
  position: relative;
  z-index: 1;
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 20px;
  min-height: 100vh;
}
.logo-img {
  width: 160px;
  border-radius: 10%;
  transition: transform 0.3s ease;
}
.logo-img:hover {
  transform: scale(1.05);
}
h1 {
  font-size: 34px;
  font-weight: 800;
  color: #0f172a;
}

/* âš™ï¸ åŠŸèƒ½å€å¡Š */
.function {
  display: flex;
  gap: 70px;
  margin: 20px 0;
}
.function-item {
  position: relative;
  display: flex;
  flex-flow: column;
  align-items: center;
  gap: 12px;
  font-size: 18px;
  font-weight: 500;
  color: #0f172a;
  cursor: pointer;
}
.function-item i {
  font-size: 38px;
}

/* ğŸ’¬ Tooltip */
.tooltip {
  position: absolute;
  bottom: 120%;
  left: 50%;
  transform: translateX(-50%);
  background: rgba(0, 0, 0, 0.75);
  color: #fff;
  padding: 10px 14px;
  border-radius: 10px;
  font-size: 0.9rem;
  width: 240px;
  max-width: 85vw;
  line-height: 1.5;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.25);
  opacity: 0;
  visibility: hidden;
  transition: all 0.25s ease;
  pointer-events: none;
  z-index: 10;
  white-space: normal;
  word-wrap: break-word;
}
.tooltip::after {
  content: '';
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  border: 6px solid transparent;
  border-top-color: rgba(0, 0, 0, 0.75);
}
.function-item:hover .tooltip {
  opacity: 1;
  visibility: visible;
  transform: translateX(-50%) translateY(-6px);
}

@media (max-width: 480px) {
  h1 {
    font-size: 24px;
  }

  .logo-img {
    max-width: 140px;
  }

  .function {
    gap: 50px;
    padding: 0 10px;
  }

  .function-item {
    font-size: 16px;
  }

  .function-item i {
    font-size: 32px;
  }

  .tooltip {
    font-size: 0.85rem;
    padding: 8px 12px;
    width: auto;
    min-width: 180px;
    max-width: 90vw;
  }
}
</style>